<h1>Scan Results</h1>
<div>
    <a href="" ng-click="saveCsvAs()">Download</a>
</div>

<p>
    {{pendingUrlCount}} / {{pendingUrlCount+scannedUrlCount}} URLs scanned
</p>

<div class="row">
    <div class="col-md-12">
        <table class="table results">
            <thead>
                <tr>
                    <th>#</th>
                    <th>URL</th>
                    <th>Status</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="(url, info) in scannedPages"
                    ng-class="{ success: info.success, warning: info.warning, danger: info.error }">
                    <td class="index">
                        {{$index+1}}
                    </td>
                    <td class="url">
                        <a href="{{url}}" target="_blank">{{url}}</a>
                    </td>
                    <td class="status">
                        {{info.status}}
                    </td>
                    <td class="details">
                        {{info.detailMessage}}
                        <details ng-if="info.appearsOn">
                            <summary>Appears on...</summary>
                            <ul class="appears-on">
                                <li ng-repeat="page in info.appearsOn">
                                    {{page}}
                                </li>
                            </ul>
                        </details>
                    </td>
                </tr>
                <tr class="pending" ng-repeat="page in pendingPages">
                    <td class="index">
                        {{pendingStartIndex+$index}}
                    </td>
                    <td class="url">
                        <a href="{{page}}">{{page}}</a>
                    </td>
                    <td class="status">
                        &hellip;
                    </td>
                    <td class="details">
                        Pending
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
